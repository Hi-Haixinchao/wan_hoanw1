<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Galaxy Love ‚Äî Full Screen + Falling Text & Images</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; margin:0; padding:0; }
html, body {
  width: 100%;
  height: 100%;
  background: #000;
  font-family: 'Great Vibes', cursive;
  color: #ff80c0;
  overflow: hidden;
  position: relative;
}

.falling-text, .falling-img {
  position: absolute;
  pointer-events: none;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

.falling-text {
  color: #ff66cc;
  font-size: 1.6em;
  text-shadow: 0 0 10px #ff66cc, 0 0 25px #ff99cc;
  white-space: nowrap;
}

.falling-img img {
  width: 60px; height: 60px;
  border-radius: 12px;
  object-fit: cover;
  box-shadow: 0 0 15px #ff66cc, 0 0 25px #ff99cc;
}

/* Hearts floating */
.heart {
  position: absolute;
  color: #ff66cc;
  font-size: 1.1em;
  text-shadow: 0 0 15px #ff66cc, 0 0 30px #ff99cc;
  animation: heartFloat 2s ease-in-out infinite;
  opacity: 0.85;
}

@keyframes heartFloat {
  0%,100% { transform: scale(1) translateY(0); opacity: 1; }
  50% { transform: scale(1.35) translateY(-10px); opacity: 0.6; }
}

#playMusic { position: fixed; top: 18px; left: 18px; z-index: 1100;
  background: #ff66cc; color: #000; border: none; padding: 10px 14px;
  border-radius: 10px; font-weight: 600; cursor: pointer; 
  box-shadow: 0 6px 18px rgba(255,102,204,0.18); }

audio { display: none; }
#qrContainer { display: none; }
</style>
</head>
<body>
<button id="playMusic">‚ñ∂ Nh·∫•n ƒë·ªÉ nghe nh·∫°c & full-screen</button>
<audio id="bgMusic" src="assets/assets_music.mp3" loop preload="auto"></audio>
<div id="qrContainer"></div>

<script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<script>
const playBtn = document.getElementById("playMusic");
const bg = document.getElementById("bgMusic");
const QR_LINK = "https://hi-haixinchao.github.io/wan_hoanw/";

// Play music & fullscreen
playBtn.addEventListener("click", async () => {
  try { await bg.play(); } catch(e){ console.warn("Autoplay blocked:", e); }

  const docEl = document.documentElement;
  if (docEl.requestFullscreen) docEl.requestFullscreen();
  else if (docEl.webkitRequestFullscreen) docEl.webkitRequestFullscreen();
  else if (docEl.msRequestFullscreen) docEl.msRequestFullscreen();

  playBtn.style.display='none';
});

// ---- Falling texts + occasional images ----
const texts = [
  "You are my universe üí´",
  "Thank you for being my sunshine ‚òÄÔ∏è",
  "Love ya! üíñ",
  "10/10/2006",
  "20/10 vui v·∫ª, ng√†y c√†ng xinh ƒë·∫πp nhaaa üíñ",
  "rep tin nh·∫Øn nhanh nhaaaaaüíñ"
];
const imageUrls = [
  "assets/hanxinhdep.jpg",
  "assets/beheo.jpg",
  "assets/heo.jpg",
  "assets/heo1.jpg",
  "assets/heo3.jpg",
  "assets/heo4.jpg",
  "assets/heo5.jpg",
  "assets/heo2.jpg"
];

for(let i=0;i<60;i++){
  const textIndex = Math.floor(Math.random()*texts.length);
  const text = texts[textIndex];

  const el = document.createElement('div');
  el.className='falling-text';
  el.innerText=text;
  const leftPos = Math.random()*95;
  el.style.left = leftPos+'vw';
  el.style.top = '-5vh';
  const duration = 4+Math.random()*6;
  el.style.animation = `fallText ${duration}s linear ${Math.random()*4}s infinite`;
  document.body.appendChild(el);

  // 15% r∆°i c√πng ·∫£nh
  if(Math.random()<0.15){
    const imgWrap = document.createElement('div');
    imgWrap.className='falling-img';
    const img = document.createElement('img');
    img.src = imageUrls[i % imageUrls.length];
    imgWrap.appendChild(img);
    imgWrap.style.left = leftPos+'vw';
    imgWrap.style.top = '-10vh';
    imgWrap.style.animation = `fallText ${duration}s linear ${Math.random()*4}s infinite`;
    document.body.appendChild(imgWrap);
  }
}

// Dynamic keyframe for falling texts/images
const styleEl = document.createElement('style');
styleEl.innerHTML = `
@keyframes fallText {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(110vh); opacity: 0; }
}`;
document.head.appendChild(styleEl);

// ---- Hearts ----
for(let i=0;i<40;i++){
  const h=document.createElement('div');
  h.className='heart';
  h.innerText='üíñ';
  h.style.top=(Math.random()*95)+'vh';
  h.style.left=(Math.random()*95)+'vw';
  h.style.fontSize=(0.8+Math.random()*1.6)+'em';
  h.style.animationDuration=(1.6+Math.random()*1.6)+'s';
  document.body.appendChild(h);
}

// ---- QR code hidden + auto download ----
const qrContainer = document.getElementById("qrContainer");
const qrCode = new QRCodeStyling({
  width: 300, height: 300, data: QR_LINK,
  dotsOptions: { color: "#000", type: "extra-rounded" },
  cornersSquareOptions: { type: "extra-rounded", color: "#ff66cc" },
  backgroundOptions: { color: "#fff" }
});
qrCode.append(qrContainer);

setTimeout(() => {
  qrCode.getRawData("png").then(blob => {
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = "heart_qr.png";
    a.click();
  });
}, 1000);
</script>
</body>
</html>
